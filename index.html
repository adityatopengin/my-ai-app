<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpha-Pulse Pro | AI Trading Terminal</title>
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-wrapper">
        <header class="top-bar">
            <div class="logo">Alpha-Pulse <span>PRO</span></div>
            <div class="controls">
                <input type="password" id="api-key" placeholder="Enter Alpha Vantage Key..." class="header-input">
                <div class="search-box">
                    <input type="text" id="ticker" value="TMCV.BSE" placeholder="Ticker (e.g., RELIANCE.BSE)">
                    <button id="predict-btn" class="btn-primary">RUN AI ENGINE</button>
                </div>
            </div>
        </header>

        <main class="bento-grid">
            
            <section class="chart-panel panel">
                <div class="panel-header">
                    <h2>Price Action & AI Projection</h2>
                    <span id="chart-status" class="badge badge-neutral">Waiting for Data</span>
                </div>
                <div class="canvas-container">
                    <canvas id="priceChart"></canvas>
                </div>
                <div class="action-buttons">
                    <button class="btn-action btn-buy" disabled>Execute BUY Signal</button>
                    <button class="btn-action btn-sell" disabled>Execute SELL Signal</button>
                    <button class="btn-action btn-outline" disabled>Save Trained Model</button>
                </div>
            </section>

            <aside class="sidebar-panel">
                
                <div class="brain-panel panel">
                    <h2>LSTM Neural Network</h2>
                    <div class="progress-bar-container">
                        <div id="ai-progress" class="progress-fill" style="width: 0%;"></div>
                    </div>
                    <p id="status" class="status-text">Ready to train on 100 days of data...</p>
                    <div class="prediction-box">
                        <span>Target Prediction:</span>
                        <h3 id="final-prediction">â‚¹0.00</h3>
                    </div>
                </div>

                <div class="indicators-panel panel">
                    <h2>Technical Indicators</h2>
                    <div class="indicator-grid">
                        <div class="indicator-card">
                            <span class="ind-label">14-Day RSI</span>
                            <span class="ind-value" id="val-rsi">--</span>
                        </div>
                        <div class="indicator-card">
                            <span class="ind-label">20-Day SMA</span>
                            <span class="ind-value" id="val-sma">--</span>
                        </div>
                        <div class="indicator-card">
                            <span class="ind-label">News Sentiment</span>
                            <span class="ind-value" id="val-news">--</span>
                        </div>
                        <div class="indicator-card">
                            <span class="ind-label">Recent Volume</span>
                            <span class="ind-value" id="val-vol">--</span>
                        </div>
                    </div>
                </div>

                <div class="console-panel panel">
                    <h2>System Console</h2>
                    <div id="custom-console" class="console-box">
                        <div class="console-line text-muted">[SYSTEM] Terminal Ready. Awaiting execution command.</div>
                    </div>
                </div>

            </aside>
        </main>
    </div>

    <script>
        const consoleDiv = document.getElementById('custom-console');
        function formatOutput(args) { return args.map(arg => typeof arg === 'object' ? JSON.stringify(arg, null, 2) : arg).join(' '); }
        
        const originalLog = console.log;
        console.log = function(...args) {
            originalLog.apply(console, args);
            consoleDiv.innerHTML += `<div class="console-line text-success">[LOG]: ${formatOutput(args)}</div>`;
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };

        const originalError = console.error;
        console.error = function(...args) {
            originalError.apply(console, args);
            consoleDiv.innerHTML += `<div class="console-line text-danger">[ERROR]: ${formatOutput(args)}</div>`;
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };

        window.onerror = function(msg, url, line) {
            consoleDiv.innerHTML += `<div class="console-line text-danger">[CRASH]: ${msg} (Line: ${line})</div>`;
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
            return false;
        };
    </script>

    <script type="module" src="js/main.js"></script>
</body>
</html>
